{"version":3,"sources":["../../src/scripts/util.ts"],"names":["createUUID","updateScroll","uuid","process","env","NODE_ENV","getToday","Date","toISOString","substring","assetRoot","setAssetRoot","path","getAssetRoot","registerStyle","styleName","rules","styleId","document","getElementById","style","createElement","id","appendChild","createTextNode","documentElement","ruleSet","declaration","pop","selectors","concat","map","s","rule","join","sheet","insertRule","isElInChildren","rootEl","targetEl","parentNode","offset","el","rect","getBoundingClientRect","top","body","scrollTop","left","scrollLeft","cleanProps","props","propTypes","newProps","Object","keys","forEach","key"],"mappings":"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","sourcesContent":["import createUUID from 'uuid';\nimport { updateScroll } from 'react-relative-portal';\n\nexport const uuid =\n  process.env.NODE_ENV === 'test' ? () => '$uuid$' : createUUID;\n\nexport const getToday =\n  process.env.NODE_ENV === 'test'\n    ? () => '2017-02-23'\n    : () => new Date().toISOString().substring(0, 10);\n\nlet assetRoot = '/assets';\n\nexport function setAssetRoot(path: string) {\n  assetRoot = path;\n}\n\nexport function getAssetRoot() {\n  return assetRoot;\n}\n\nexport function registerStyle(styleName: string, rules: string[][]) {\n  const styleId = `react-slds-cssfix-${styleName}`;\n  if (document.getElementById(styleId)) {\n    return;\n  }\n  const style = document.createElement('style');\n  style.id = styleId;\n  style.appendChild(document.createTextNode(''));\n  document.documentElement.appendChild(style);\n  for (const ruleSet of rules) {\n    const declaration = ruleSet.pop();\n    let selectors = ruleSet;\n    selectors = selectors.concat(selectors.map((s) => `.slds ${s}`));\n    const rule = `${selectors.join(', ')} ${declaration}`;\n    (style.sheet as CSSStyleSheet).insertRule(rule, 0);\n  }\n}\n\nexport function isElInChildren(rootEl: any, targetEl: any) {\n  /* eslint-disable no-param-reassign */\n  while (targetEl && targetEl !== rootEl) {\n    targetEl = targetEl.parentNode;\n  }\n\n  return !!targetEl;\n}\n\nexport function offset(el: HTMLElement) {\n  const rect = el.getBoundingClientRect();\n\n  return {\n    top: rect.top + document.body.scrollTop,\n    left: rect.left + document.body.scrollLeft,\n  };\n}\n\nexport function cleanProps(props: object, propTypes: object) {\n  const newProps = props;\n  Object.keys(propTypes).forEach((key) => {\n    // @ts-ignore\n    delete newProps[key];\n  });\n  return newProps;\n}\n\nexport default {\n  setAssetRoot,\n  getAssetRoot,\n  registerStyle,\n  isElInChildren,\n  offset,\n  cleanProps,\n  updateScroll,\n};\n"],"file":"util.js"}