{"version":3,"sources":["../../src/scripts/CheckboxGroup.tsx"],"names":["CheckboxGroup","props","onChange","bind","renderControl","e","onValueChange","values","React","Children","forEach","children","check","i","el","ref","nodes","checkEl","querySelector","checked","push","value","checkbox","grouped","checkboxRef","node","name","cloneElement","className","label","totalCols","cols","style","required","error","grpClassNames","grpStyles","display","errorMessage","message","undefined","map","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;;;;;IAaaA,a;;;;;AAOX,yBAAYC,KAAZ,EAA4D;AAAA;;AAAA;AAC1D,8BAAMA,KAAN;AAD0D,8FAFpB,EAEoB;AAG1D,UAAKC,QAAL,GAAgB,MAAKA,QAAL,CAAcC,IAAd,gDAAhB;AACA,UAAKC,aAAL,GAAqB,MAAKA,aAAL,CAAmBD,IAAnB,gDAArB;AAJ0D;AAK3D;;;;6BAEQE,C,EAAyC;AAAA;;AAChD,UAAI,KAAKJ,KAAL,CAAWK,aAAf,EAA8B;AAC5B,YAAMC,OAAmB,GAAG,EAA5B;;AACAC,0BAAMC,QAAN,CAAeC,OAAf,CAAuB,KAAKT,KAAL,CAAWU,QAAlC,EAA4C,UAACC,KAAD,EAAaC,CAAb,EAAmB;AAC7D,cAAMC,EAAE,GAAGF,KAAK,CAACX,KAAN,CAAYc,GAAZ,IAAmB,MAAI,CAACC,KAAL,gBAAmBH,CAAC,GAAG,CAAvB,EAA9B;;AACA,cAAMI,OAAO,GAAGH,EAAE,IAAIA,EAAE,CAACI,aAAH,CAAiB,sBAAjB,CAAtB;;AACA,cAAID,OAAO,IAAIA,OAAO,CAACE,OAAvB,EAAgC;AAC9BZ,YAAAA,OAAM,CAACa,IAAP,CAAYR,KAAK,CAACX,KAAN,CAAYoB,KAAxB;AACD;AACF,SAND;;AAOA,aAAKpB,KAAL,CAAWK,aAAX,CAAyBC,OAAzB;AACD;;AACD,UAAI,KAAKN,KAAL,CAAWC,QAAf,EAAyB;AACvB,aAAKD,KAAL,CAAWC,QAAX,CAAoBG,CAApB;AACD;AACF;;;kCAEaiB,Q,EAAeT,C,EAAW;AAAA;;AACtC,UAAMZ,KAAU,GAAG;AAAEsB,QAAAA,OAAO,EAAE;AAAX,OAAnB;;AACA,UAAID,QAAQ,CAACrB,KAAT,CAAec,GAAnB,EAAwB;AACtBd,QAAAA,KAAK,CAACc,GAAN,GAAYO,QAAQ,CAACrB,KAAT,CAAec,GAA3B;AACD,OAFD,MAEO;AACLd,QAAAA,KAAK,CAACuB,WAAN,GAAoB,UAACC,IAAD;AAAA,iBAAgB,MAAI,CAACT,KAAL,gBAAmBH,CAAC,GAAG,CAAvB,KAA8BY,IAA9C;AAAA,SAApB;AACD;;AACD,UAAI,KAAKxB,KAAL,CAAWyB,IAAf,EAAqB;AACnBzB,QAAAA,KAAK,CAACyB,IAAN,GAAa,KAAKzB,KAAL,CAAWyB,IAAxB;AACD;;AACD,0BAAOlB,kBAAMmB,YAAN,CAAmBL,QAAnB,EAA6BrB,KAA7B,CAAP;AACD;;;6BAEQ;AAAA,wBAWH,KAAKA,KAXF;AAAA,UAEL2B,SAFK,eAELA,SAFK;AAAA,UAGLC,KAHK,eAGLA,KAHK;AAAA,UAILC,SAJK,eAILA,SAJK;AAAA,UAKLC,IALK,eAKLA,IALK;AAAA,UAMLC,KANK,eAMLA,KANK;AAAA,UAOLC,QAPK,eAOLA,QAPK;AAAA,UAQLC,KARK,eAQLA,KARK;AAAA,UASLvB,QATK,eASLA,QATK;AAAA,UAUFV,KAVE;AAYP,UAAMkC,aAAa,GAAG,4BACpBP,SADoB,EAEpB,mBAFoB,EAGpB;AACE,0BAAkBM,KADpB;AAEE,4BAAoBD;AAFtB,OAHoB,EAOpB,OAAOH,SAAP,KAAqB,QAArB,uBACiBC,IAAI,IAAI,CADzB,iBACiCD,SADjC,IAEI,IATgB,CAAtB;AAWA,UAAMM,SAAS,GACb,OAAON,SAAP,KAAqB,QAArB;AACMO,QAAAA,OAAO,EAAE;AADf,SACkCL,KADlC,IAEIA,KAHN;AAIA,UAAMM,YAAY,GAAGJ,KAAK,GACtB,OAAOA,KAAP,KAAiB,QAAjB,GACEA,KADF,GAEE,yBAAOA,KAAP,MAAiB,QAAjB,GACAA,KAAK,CAACK,OADN,GAEAC,SALoB,GAMtBA,SANJ;AAQA,aAAOvC,KAAK,CAACC,QAAb;AACA,0BACE;AACE,QAAA,SAAS,EAAEiC,aADb;AAEE,QAAA,KAAK,EAAEC,SAFT;AAGE,QAAA,QAAQ,EAAE,KAAKlC;AAHjB,SAIMD,KAJN,gBAME;AAAQ,QAAA,SAAS,EAAC;AAAlB,SACG4B,KADH,EAEGI,QAAQ,gBAAG;AAAM,QAAA,SAAS,EAAC;AAAhB,aAAH,GAA8CO,SAFzD,CANF,eAUE;AAAK,QAAA,SAAS,EAAC;AAAf,SACGhC,kBAAMC,QAAN,CAAegC,GAAf,CAAmB9B,QAAnB,EAA6B,KAAKP,aAAlC,CADH,EAEGkC,YAAY,gBACX;AAAK,QAAA,SAAS,EAAC;AAAf,SAA0CA,YAA1C,CADW,GAGXE,SALJ,CAVF,CADF;AAqBD;;;EAnGOhC,kBAAMkC,S;;;iCAFH1C,a,mBAGY,I","sourcesContent":["import React, { FieldsetHTMLAttributes } from 'react';\nimport classnames from 'classnames';\nimport { FormElementProps } from './FormElement';\n\nexport type CheckboxGroupProps<ValueType extends string | number> = {\n  label?: string;\n  required?: boolean;\n  error?: FormElementProps['error'];\n  name?: string;\n  totalCols?: number;\n  cols?: number;\n  onValueChange?: (values: ValueType[]) => void;\n} & FieldsetHTMLAttributes<HTMLFieldSetElement>;\n\nexport class CheckboxGroup<\n  ValueType extends string | number\n> extends React.Component<CheckboxGroupProps<ValueType>> {\n  static isFormElement = true;\n\n  private nodes: { [key: string]: any } = {};\n\n  constructor(props: Readonly<CheckboxGroupProps<ValueType>>) {\n    super(props);\n\n    this.onChange = this.onChange.bind(this);\n    this.renderControl = this.renderControl.bind(this);\n  }\n\n  onChange(e: React.FormEvent<HTMLFieldSetElement>) {\n    if (this.props.onValueChange) {\n      const values: ValueType[] = [];\n      React.Children.forEach(this.props.children, (check: any, i) => {\n        const el = check.props.ref || this.nodes[`check${i + 1}`];\n        const checkEl = el && el.querySelector('input[type=checkbox]');\n        if (checkEl && checkEl.checked) {\n          values.push(check.props.value);\n        }\n      });\n      this.props.onValueChange(values);\n    }\n    if (this.props.onChange) {\n      this.props.onChange(e);\n    }\n  }\n\n  renderControl(checkbox: any, i: number) {\n    const props: any = { grouped: true };\n    if (checkbox.props.ref) {\n      props.ref = checkbox.props.ref;\n    } else {\n      props.checkboxRef = (node: any) => (this.nodes[`check${i + 1}`] = node);\n    }\n    if (this.props.name) {\n      props.name = this.props.name;\n    }\n    return React.cloneElement(checkbox, props);\n  }\n\n  render() {\n    const {\n      className,\n      label,\n      totalCols,\n      cols,\n      style,\n      required,\n      error,\n      children,\n      ...props\n    } = this.props;\n    const grpClassNames = classnames(\n      className,\n      'slds-form-element',\n      {\n        'slds-has-error': error,\n        'slds-is-required': required,\n      },\n      typeof totalCols === 'number'\n        ? `slds-size_${cols || 1}-of-${totalCols}`\n        : null\n    );\n    const grpStyles =\n      typeof totalCols === 'number'\n        ? { display: 'inline-block', ...style }\n        : style;\n    const errorMessage = error\n      ? typeof error === 'string'\n        ? error\n        : typeof error === 'object'\n        ? error.message\n        : undefined\n      : undefined;\n\n    delete props.onChange;\n    return (\n      <fieldset\n        className={grpClassNames}\n        style={grpStyles}\n        onChange={this.onChange}\n        {...props}\n      >\n        <legend className='slds-form-element__label'>\n          {label}\n          {required ? <abbr className='slds-required'>*</abbr> : undefined}\n        </legend>\n        <div className='slds-form-element__control'>\n          {React.Children.map(children, this.renderControl)}\n          {errorMessage ? (\n            <div className='slds-form-element__help'>{errorMessage}</div>\n          ) : (\n            undefined\n          )}\n        </div>\n      </fieldset>\n    );\n  }\n}\n"],"file":"CheckboxGroup.js"}