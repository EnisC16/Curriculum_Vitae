{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\enisc\\\\Desktop\\\\Verband Kulturzentren e.V\\\\WebApp\\\\Client\\\\src\\\\components\\\\Payment\\\\PayPalExpressCheckOut.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport scriptLoader from 'react-async-script-loader';\nimport PropTypes from 'prop-types';\n\nclass PaypalButton extends React.Component {\n  constructor(props) {\n    super(props);\n    window.React = React;\n    window.ReactDOM = ReactDOM;\n    this.state = {\n      showButton: false,\n      env: 'sandbox',\n      // Or 'sandbox'\n      client: {\n        sandbox: 'AaD8da4Hl-J_wkpbDwFo64zfdfcV_i-jOw-fjw33UxhiaL3KddA6IRuPo842lXDV1gQhh2d4PR8ys18F',\n        // sandbox client ID\n        production: 'xxxxxxxxx' // production client ID\n\n      },\n      commit: true // Show a 'Pay Now' button\n\n    };\n  }\n\n  componentDidMount() {\n    const script = document.createElement(\"script\");\n    script.src = \"https://www.paypal.com/sdk/js?client-id=AaD8da4Hl-J_wkpbDwFo64zfdfcV_i-jOw-fjw33UxhiaL3KddA6IRuPo842lXDV1gQhh2d4PR8ys18F&currency=EUR\";\n    script.async = true;\n    document.body.appendChild(script);\n    const {\n      isScriptLoaded,\n      isScriptLoadSucceed\n    } = this.props;\n\n    if (isScriptLoaded && isScriptLoadSucceed) {\n      this.setState({\n        showButton: true\n      });\n    }\n  }\n\n  componentWillReceiveProps({\n    isScriptLoaded,\n    isScriptLoadSucceed\n  }) {\n    if (!this.state.show) {\n      if (isScriptLoaded && !this.props.isScriptLoaded) {\n        if (isScriptLoadSucceed) {\n          this.setState({\n            showButton: true\n          });\n        } else {\n          console.log('Cannot load Paypal script!');\n          this.props.onError();\n        }\n      }\n    }\n  }\n\n  render() {\n    const payment = () => paypal.rest.payment.create(this.props.env, this.props.client, {\n      transactions: [{\n        amount: {\n          total: this.props.total,\n          currency: this.props.currency\n        }\n      }]\n    });\n\n    const onAuthorize = (data, actions) => actions.payment.execute().then(() => {\n      const payment = Object.assign({}, this.props.payment);\n      payment.paid = true;\n      payment.cancelled = false;\n      payment.payerID = data.payerID;\n      payment.paymentID = data.paymentID;\n      payment.paymentToken = data.paymentToken;\n      payment.returnUrl = data.returnUrl;\n      this.props.onSuccess(payment);\n    });\n\n    let ppbtn = '';\n\n    if (this.state.showButton) {\n      ppbtn = /*#__PURE__*/React.createElement(paypal.Button.react, {\n        env: this.state.env,\n        client: this.state.client,\n        payment: payment,\n        commit: true,\n        onAuthorize: onAuthorize,\n        onCancel: this.props.onCancel,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 16\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 12\n      }\n    }, ppbtn);\n  }\n\n}\n\nPaypalButton.propTypes = {\n  currency: PropTypes.string.isRequired,\n  total: PropTypes.number.isRequired,\n  client: PropTypes.object.isRequired\n};\nPaypalButton.defaultProps = {\n  env: 'sandbox',\n  onSuccess: payment => {\n    console.log('The payment was succeeded!', payment);\n  },\n  onCancel: data => {\n    console.log('The payment was cancelled!', data);\n  },\n  onError: err => {\n    console.log('Error loading Paypal script!', err);\n  }\n};\nexport default scriptLoader('https://www.paypalobjects.com/api/checkout.js')(PaypalButton);","map":{"version":3,"sources":["C:/Users/enisc/Desktop/Verband Kulturzentren e.V/WebApp/Client/src/components/Payment/PayPalExpressCheckOut.js"],"names":["React","ReactDOM","scriptLoader","PropTypes","PaypalButton","Component","constructor","props","window","state","showButton","env","client","sandbox","production","commit","componentDidMount","script","document","createElement","src","async","body","appendChild","isScriptLoaded","isScriptLoadSucceed","setState","componentWillReceiveProps","show","console","log","onError","render","payment","paypal","rest","create","transactions","amount","total","currency","onAuthorize","data","actions","execute","then","Object","assign","paid","cancelled","payerID","paymentID","paymentToken","returnUrl","onSuccess","ppbtn","onCancel","propTypes","string","isRequired","number","object","defaultProps","err"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport scriptLoader from 'react-async-script-loader';\r\nimport PropTypes from 'prop-types';\r\n \r\nclass PaypalButton extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    window.React = React;\r\n    window.ReactDOM = ReactDOM;\r\n    this.state = {\r\n      showButton: false,\r\n      env: 'sandbox', // Or 'sandbox'\r\n      client: {\r\n        sandbox:    'AaD8da4Hl-J_wkpbDwFo64zfdfcV_i-jOw-fjw33UxhiaL3KddA6IRuPo842lXDV1gQhh2d4PR8ys18F', // sandbox client ID\r\n        production: 'xxxxxxxxx' // production client ID\r\n      },\r\n      commit: true, // Show a 'Pay Now' button\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const script = document.createElement(\"script\");\r\n\r\n    script.src = \"https://www.paypal.com/sdk/js?client-id=AaD8da4Hl-J_wkpbDwFo64zfdfcV_i-jOw-fjw33UxhiaL3KddA6IRuPo842lXDV1gQhh2d4PR8ys18F&currency=EUR\";\r\n    script.async = true;\r\n\r\n    document.body.appendChild(script);\r\n\r\n    const { isScriptLoaded, isScriptLoadSucceed } = this.props;\r\n    if (isScriptLoaded && isScriptLoadSucceed) {\r\n      this.setState({ showButton: true });\r\n    }\r\n  }\r\n  componentWillReceiveProps({ isScriptLoaded, isScriptLoadSucceed }) {\r\n    if (!this.state.show) {\r\n      if (isScriptLoaded && !this.props.isScriptLoaded) {\r\n        if (isScriptLoadSucceed) {\r\n          this.setState({ showButton: true });\r\n        } else {\r\n          console.log('Cannot load Paypal script!');\r\n          this.props.onError();\r\n        }\r\n      }\r\n    }\r\n  }\r\n \r\n  render() {\r\n    const payment = () => paypal.rest.payment.create(this.props.env, this.props.client, {\r\n      transactions: [\r\n                    { amount: { total: this.props.total, currency: this.props.currency } },\r\n      ],\r\n    });\r\n \r\n    const onAuthorize = (data, actions) => actions.payment.execute().then(() => {\r\n      const payment = Object.assign({}, this.props.payment);\r\n      payment.paid = true;\r\n      payment.cancelled = false;\r\n      payment.payerID = data.payerID;\r\n      payment.paymentID = data.paymentID;\r\n      payment.paymentToken = data.paymentToken;\r\n      payment.returnUrl = data.returnUrl;\r\n      this.props.onSuccess(payment);\r\n    });\r\n \r\n    let ppbtn = '';\r\n    if (this.state.showButton) {\r\n      ppbtn = (<paypal.Button.react\r\n        env={this.state.env}\r\n        client={this.state.client}\r\n        payment={payment}\r\n        commit\r\n        onAuthorize={onAuthorize}\r\n        onCancel={this.props.onCancel}\r\n      />);\r\n    }\r\n    return <div>{ppbtn}</div>;\r\n  }\r\n}\r\n \r\nPaypalButton.propTypes = {\r\n  currency: PropTypes.string.isRequired,\r\n  total: PropTypes.number.isRequired,\r\n  client: PropTypes.object.isRequired,\r\n};\r\n \r\nPaypalButton.defaultProps = {\r\n  env: 'sandbox',\r\n  onSuccess: (payment) => {\r\n    console.log('The payment was succeeded!', payment);\r\n  },\r\n  onCancel: (data) => {\r\n    console.log('The payment was cancelled!', data);\r\n  },\r\n  onError: (err) => {\r\n    console.log('Error loading Paypal script!', err);\r\n  },\r\n};\r\n \r\nexport default scriptLoader('https://www.paypalobjects.com/api/checkout.js')(PaypalButton);"]},"metadata":{},"sourceType":"module"}